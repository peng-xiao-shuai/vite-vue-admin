import{d as f,c as g,q as v,o as x,f as M,k as _,g as n,w as d,j as r,B as c,_ as b}from"./index-d0d9e9f9.js";import{E as k}from"./text-dac013b1.js";import{A as w,u as y}from"./index-74a62d0b.js";const A={class:"map-marker"},B={class:"info-box"},h=f({__name:"ali-map",setup(C){const{name:m}=g(),e=v({lng:116.397428,lat:39.90923,address:"北京市东城区东华门街道天安门"});let t,i,s;return w.load({key:"d44819a368d76ea619971a50854f19b9",version:"2.0",plugins:["AMap.Geocoder"]}).then(l=>{const o=l;t=new o.Map("map",{center:[e.lng,e.lat],zoom:12}),i=new o.Geocoder,s=new o.Marker({position:t.getCenter(),offset:new o.Pixel(-26,-61),icon:"//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-default.png",draggable:!0,cursor:"move"}),s.setMap(t),s.on("dragend",({lnglat:a})=>{e.lng=a.lng,e.lat=a.lat,i.getAddress(a,function(u,p){u==="complete"&&p.regeocode?e.address=p.regeocode.formattedAddress:console.error("根据经纬度查询地址失败")})})}),y(m,()=>{t==null||t.destroy(),s==null||s.remove()}),(l,o)=>{const a=k;return x(),M("div",A,[_("div",B,[n(a,{tag:"div"},{default:d(()=>[r("经度："+c(e.lng),1)]),_:1}),n(a,{tag:"div"},{default:d(()=>[r("纬度："+c(e.lat),1)]),_:1}),n(a,{tag:"div"},{default:d(()=>[r("地址："+c(e.address),1)]),_:1})]),o[0]||(o[0]=_("div",{id:"map"},null,-1))])}}});const D=b(h,[["__scopeId","data-v-738b683b"]]);export{D as default};
