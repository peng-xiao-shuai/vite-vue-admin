import{_ as g,d as y,Q as w,r as p,aj as V,t as C,N as E,o as h,f as v,k as n,Z as T,a6 as x,s as S,g as r,w as c,v as k,j as $,l as F,T as B,E as D}from"./index-eb619e6a.js";const M=y({props:{modelValue:{type:String,default:""},slotStyle:{type:Object,default:()=>{}},height:{type:[String,Number],default:500},width:{type:[String,Number],default:500},plugins:{type:[String,Array],default:"lists fullscreen emoticons autosave image table wordcount emoticons"},toolbar:{type:[String,Array],default:"bold italic underline strikethrough restoredraft image fullscreen emoticons | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify|bullist numlist |outdent indent blockquote | undo redo | removeformat"},url:{required:!0,type:String,default:""},data:{type:Array,default:()=>[{key:"type",value:0}]}},emits:["update:modelValue"],setup(e,t){w(()=>{m(e.height)});let l=p(!1),a="vue-tinymce-"+ +new Date;V(()=>{l.value&&e.modelValue!=""&&C(()=>{window.tinymce.get(a).setContent(e.modelValue)})});function s(){t.emit("update:modelValue",window.tinymce.get(a).getContent())}function m(){var o;(o=window.tinymce)==null||o.init({selector:`#${a}`,branding:!1,language_url:{VITE_TIMEOUT:"10000",VITE_OUTPUT_DIR:"dist",VITE_BASE_URL:"https://peng-xiao-shuai-0902.github.io/vite-vue-admin/",VITE_MOCK:"true",BASE_URL:"/vite-vue-admin/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}==="production"?"/vite-vue-admin/static/zh_CN.js":"/static/zh_CN.js",language:"zh_CN",height:e.height,width:e.width,plugins:e.plugins,toolbar:e.toolbar,content_style:"div,p{margin:5px 0;}img{max-width:100%;}*::-webkit-scrollbar{width:6px;height:6px;background:transparent;}*::-webkit-scrollbar-thumb{border-radius: 3px;background: #bac3d9;}",images_upload_handler:(u,_,f)=>{let i=new FormData;i.append("file",u.blob(),u.filename()),e.data.forEach(d=>{i.append(d.key,d.value)}),E.post(e.url,i).then(d=>{d.data.code===200?_(d.data.data.url):f("上传失败")})},init_instance_callback:function(u){l.value=!0}})}return{tinymceId:a,hasInit:l,getContentFun:s}}}),I={class:"tinymce-editor"},N=["id"];function j(e,t,l,a,s,m){return h(),v("div",I,[n("textarea",{class:"tinymce-textarea",id:e.tinymceId},null,8,N),n("div",{onClick:t[0]||(t[0]=(...o)=>e.getContentFun&&e.getContentFun(...o)),style:x(e.slotStyle)},[T(e.$slots,"default")],4)])}const b=g(M,[["render",j]]),z=()=>S({url:"modules/richText"}),A=y({name:"ModulesRichText",components:{tinyMce:b},setup(){let e=p(""),t=p(null);l();function l(){z().then(s=>{e.value=s.data.data})}function a(){console.log("获取富文本数据",e.value)}return{myValue:e,getTinyMceFun:a,scroll:t}}});const O={class:"app-container"},R={class:"operate-container"},U={class:"lineTinyBox"},L={class:"phoneBox"},H=["innerHTML"];function q(e,t,l,a,s,m){const o=F,u=b,_=B,f=D;return h(),v("div",O,[r(f,{shadow:e.defaultData.cardShadow},{default:c(()=>[n("div",R,[n("div",null,[n("i",{class:k([e.defaultData.iconfont,"viteZJ-fuwenben"]),style:{"margin-right":"5px"}},null,2),t[2]||(t[2]=n("span",null,"富文本编辑器",-1))])]),n("div",U,[r(u,{width:"100%",modelValue:e.myValue,"onUpdate:modelValue":t[1]||(t[1]=i=>e.myValue=i),height:667,url:"图片路径",ref:"tinymce",slotStyle:{display:"flex",justifyContent:"center",padding:"10px 0 0"}},{default:c(()=>[r(o,{type:"primary",onClick:t[0]||(t[0]=i=>e.getTinyMceFun())},{default:c(()=>t[3]||(t[3]=[$(" 确认 ")])),_:1,__:[3]})]),_:1},8,["modelValue"]),n("div",L,[r(_,{style:{height:"667px"},class:"vHtml",ref:"scroll"},{default:c(()=>[n("div",{innerHTML:e.myValue},null,8,H)]),_:1},512)])])]),_:1},8,["shadow"])])}const Z=g(A,[["render",q],["__scopeId","data-v-5e174de8"]]);export{Z as default};
