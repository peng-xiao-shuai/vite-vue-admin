import{$ as fe,aT as be,aJ as h,aU as ve,aV as ae,aW as K,aX as z,aY as w,d as J,an as _e,a2 as Ve,r as ne,q as ie,aZ as ye,a3 as T,a4 as L,a1 as Ne,a_ as he,ak as ge,Q as Se,a5 as we,o as V,f as k,z as Q,n as l,a$ as X,v as W,aN as U,Z as M,g as m,w as f,x as F,b0 as xe,b1 as Ee,P as G,C as ee,b2 as Ie,b3 as Te,aD as Fe,aL as Y,p as re,a7 as ze,b4 as ke,b5 as Ae,b6 as le,a9 as Pe,t as Ce,k as _,J as Be,K as $e,b7 as te,j as De,b8 as Le,i as Ue,ah as Me,ai as Ke,l as Oe,E as je}from"./index-eb619e6a.js";/* empty css             */import{E as Re,a as Ze}from"./form-item-f9557fea.js";const We=fe({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:{type:[Number,null]},readonly:Boolean,disabled:Boolean,size:be,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:s=>s===null||h(s)||["min","max"].includes(s),default:null},name:String,placeholder:String,precision:{type:Number,validator:s=>s>=0&&s===Number.parseInt(`${s}`,10)},validateEvent:{type:Boolean,default:!0},...ve(["ariaLabel"])}),Ye={[ae]:(s,a)=>a!==s,blur:s=>s instanceof FocusEvent,focus:s=>s instanceof FocusEvent,[K]:s=>h(s)||z(s),[w]:s=>h(s)||z(s)},Ge=J({name:"ElInputNumber"}),Je=J({...Ge,props:We,emits:Ye,setup(s,{expose:a,emit:p}){const i=s,{t:o}=_e(),v=Ve("input-number"),y=ne(),r=ie({currentValue:i.modelValue,userInput:null}),{formItem:g}=ye(),A=T(()=>h(i.modelValue)&&i.modelValue<=i.min),x=T(()=>h(i.modelValue)&&i.modelValue>=i.max),O=T(()=>{const e=I(i.step);return L(i.precision)?Math.max(I(i.modelValue),e):(e>i.precision,i.precision)}),E=T(()=>i.controls&&i.controlsPosition==="right"),P=Ne(),S=he(),u=T(()=>{if(r.userInput!==null)return r.userInput;let e=r.currentValue;if(z(e))return"";if(h(e)){if(Number.isNaN(e))return"";L(i.precision)||(e=e.toFixed(i.precision))}return e}),C=(e,t)=>{if(L(t)&&(t=O.value),t===0)return Math.round(e);let n=String(e);const d=n.indexOf(".");if(d===-1||!n.replace(".","").split("")[d+t])return e;const $=n.length;return n.charAt($-1)==="5"&&(n=`${n.slice(0,Math.max(0,$-1))}6`),Number.parseFloat(Number(n).toFixed(t))},I=e=>{if(z(e))return 0;const t=e.toString(),n=t.indexOf(".");let d=0;return n!==-1&&(d=t.length-n-1),d},q=(e,t=1)=>h(e)?C(e+i.step*t):r.currentValue,j=()=>{if(i.readonly||S.value||x.value)return;const e=Number(u.value)||0,t=q(e);B(t),p(K,r.currentValue),Z()},R=()=>{if(i.readonly||S.value||A.value)return;const e=Number(u.value)||0,t=q(e,-1);B(t),p(K,r.currentValue),Z()},H=(e,t)=>{const{max:n,min:d,step:c,precision:N,stepStrictly:$,valueOnClear:D}=i;n<d&&ke("InputNumber","min should not be greater than max.");let b=Number(e);if(z(e)||Number.isNaN(b))return null;if(e===""){if(D===null)return null;b=Ae(D)?{min:d,max:n}[D]:D}return $&&(b=C(Math.round(b/c)*c,N),b!==e&&t&&p(w,b)),L(N)||(b=C(b,N)),(b>n||b<d)&&(b=b>n?n:d,t&&p(w,b)),b},B=(e,t=!0)=>{var n;const d=r.currentValue,c=H(e);if(!t){p(w,c);return}d===c&&e||(r.userInput=null,p(w,c),d!==c&&p(ae,c,d),i.validateEvent&&((n=g==null?void 0:g.validate)==null||n.call(g,"change").catch(N=>le())),r.currentValue=c)},se=e=>{r.userInput=e;const t=e===""?null:Number(e);p(K,t),B(t,!1)},ue=e=>{const t=e!==""?Number(e):"";(h(t)&&!Number.isNaN(t)||e==="")&&B(t),Z(),r.userInput=null},oe=()=>{var e,t;(t=(e=y.value)==null?void 0:e.focus)==null||t.call(e)},de=()=>{var e,t;(t=(e=y.value)==null?void 0:e.blur)==null||t.call(e)},ce=e=>{p("focus",e)},me=e=>{var t,n;r.userInput=null,r.currentValue===null&&((t=y.value)!=null&&t.input)&&(y.value.input.value=""),p("blur",e),i.validateEvent&&((n=g==null?void 0:g.validate)==null||n.call(g,"blur").catch(d=>le()))},Z=()=>{r.currentValue!==i.modelValue&&(r.currentValue=i.modelValue)},pe=e=>{document.activeElement===e.target&&e.preventDefault()};return ge(()=>i.modelValue,(e,t)=>{const n=H(e,!0);r.userInput===null&&n!==t&&(r.currentValue=n)},{immediate:!0}),Se(()=>{var e;const{min:t,max:n,modelValue:d}=i,c=(e=y.value)==null?void 0:e.input;if(c.setAttribute("role","spinbutton"),Number.isFinite(n)?c.setAttribute("aria-valuemax",String(n)):c.removeAttribute("aria-valuemax"),Number.isFinite(t)?c.setAttribute("aria-valuemin",String(t)):c.removeAttribute("aria-valuemin"),c.setAttribute("aria-valuenow",r.currentValue||r.currentValue===0?String(r.currentValue):""),c.setAttribute("aria-disabled",String(S.value)),!h(d)&&d!=null){let N=Number(d);Number.isNaN(N)&&(N=null),p(w,N)}c.addEventListener("wheel",pe,{passive:!1})}),we(()=>{var e,t;const n=(e=y.value)==null?void 0:e.input;n==null||n.setAttribute("aria-valuenow",`${(t=r.currentValue)!=null?t:""}`)}),a({focus:oe,blur:de}),(e,t)=>(V(),k("div",{class:W([l(v).b(),l(v).m(l(P)),l(v).is("disabled",l(S)),l(v).is("without-controls",!e.controls),l(v).is("controls-right",l(E))]),onDragstart:Y(()=>{},["prevent"])},[e.controls?Q((V(),k("span",{key:0,role:"button","aria-label":l(o)("el.inputNumber.decrease"),class:W([l(v).e("decrease"),l(v).is("disabled",l(A))]),onKeydown:U(R,["enter"])},[M(e.$slots,"decrease-icon",{},()=>[m(l(G),null,{default:f(()=>[l(E)?(V(),F(l(xe),{key:0})):(V(),F(l(Ee),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[l(X),R]]):ee("v-if",!0),e.controls?Q((V(),k("span",{key:1,role:"button","aria-label":l(o)("el.inputNumber.increase"),class:W([l(v).e("increase"),l(v).is("disabled",l(x))]),onKeydown:U(j,["enter"])},[M(e.$slots,"increase-icon",{},()=>[m(l(G),null,{default:f(()=>[l(E)?(V(),F(l(Ie),{key:0})):(V(),F(l(Te),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[l(X),j]]):ee("v-if",!0),m(l(re),{id:e.id,ref_key:"input",ref:y,type:"number",step:e.step,"model-value":l(u),placeholder:e.placeholder,readonly:e.readonly,disabled:l(S),size:l(P),max:e.max,min:e.min,name:e.name,"aria-label":e.ariaLabel,"validate-event":!1,onKeydown:[U(Y(j,["prevent"]),["up"]),U(Y(R,["prevent"]),["down"])],onBlur:me,onFocus:ce,onInput:se,onChange:ue},Fe({_:2},[e.$slots.prefix?{name:"prefix",fn:f(()=>[M(e.$slots,"prefix")])}:void 0,e.$slots.suffix?{name:"suffix",fn:f(()=>[M(e.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var qe=ze(Je,[["__file","input-number.vue"]]);const He=Pe(qe);const Qe={class:"app-container"},Xe={class:"screenForm"},el={class:"_flex"},ll={style:{flex:"1","margin-right":"20px"}},tl={style:{flex:"1"}},al=["src"],nl={class:"el-upload-list__item-actions"},il=["onClick"],ol=J({__name:"index",setup(s){let a=ie({image:[{url:"http://www.aiiup.cn/uploads/20190821/1-1Z115223503326.jpg",name:"1-1Z115223503326.jpg"}],limit:1,fileType:0,fileSize:1,suffixStr:"jpg、jpeg、png",suffixArr:[{label:"图片",type:0},{label:"视频",type:1},{label:"文件",type:2}]});const p=ne(null);return Ce(()=>{console.log(p.value)}),(i,o)=>{const v=Ue,y=He,r=Re,g=Me,A=Ke,x=re,O=Ze,E=Oe,P=G,S=je;return V(),k("div",Qe,[m(S,{shadow:i.defaultData.cardShadow},{default:f(()=>[m(v),_("div",null,[m(O,{inline:!0,model:l(a)},{default:f(()=>[_("div",Xe,[m(r,{label:"最大上传数量："},{default:f(()=>[m(y,{modelValue:l(a).limit,"onUpdate:modelValue":o[0]||(o[0]=u=>l(a).limit=u),placeholder:"请输入最大上传数量",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),m(r,{label:"上传类型："},{default:f(()=>[m(A,{modelValue:l(a).fileType,"onUpdate:modelValue":o[1]||(o[1]=u=>l(a).fileType=u),placeholder:"请选择",style:{width:"80%"}},{default:f(()=>[(V(!0),k(Be,null,$e(l(a).suffixArr,u=>(V(),F(g,{key:u.type,label:u.label,value:u.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),m(r,{label:"最大上传文件大小（MB）："},{default:f(()=>[m(x,{modelValue:l(a).fileSize,"onUpdate:modelValue":o[2]||(o[2]=u=>l(a).fileSize=u),placeholder:"请输入最大上传文件大小",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),m(r,{label:"上传"+l(a).suffixArr[l(a).fileType].label+"类型（、）隔开："},{default:f(()=>[m(x,{modelValue:l(a).suffixStr,"onUpdate:modelValue":o[3]||(o[3]=u=>l(a).suffixStr=u),placeholder:"请输入上传"+l(a).suffixArr[l(a).fileType].label+"格式",style:{width:"80%"},clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])])]),_:1},8,["model"])]),_("div",el,[_("div",ll,[o[6]||(o[6]=_("div",{class:"tipBox"},"基础使用",-1)),m(te,{modelValue:l(a).image,"onUpdate:modelValue":o[4]||(o[4]=u=>l(a).image=u),limit:l(a).limit,fileType:l(a).fileType,fileSize:l(a).fileSize,suffixStr:l(a).suffixStr,tipLabel:"最大上传数量为"+l(a).limit+"，只能上传"+l(a).suffixStr+"，且文件大小不超过"+l(a).fileSize},null,8,["modelValue","limit","fileType","fileSize","suffixStr","tipLabel"])]),_("div",tl,[o[8]||(o[8]=_("div",{class:"tipBox"},"插槽使用",-1)),m(te,{ref_key:"uploadFileRef",ref:p,modelValue:l(a).image,"onUpdate:modelValue":o[5]||(o[5]=u=>l(a).image=u),limit:l(a).limit,fileType:l(a).fileType,fileSize:l(a).fileSize,suffixStr:l(a).suffixStr,tipLabel:"最大上传数量为"+l(a).limit+"，只能上传"+l(a).suffixStr+"，且文件大小不超过"+l(a).fileSize},{default:f(()=>[m(E,{type:"primary"},{default:f(()=>o[7]||(o[7]=[De("上传")])),_:1,__:[7]})]),file:f(({file:u})=>[_("div",null,[_("img",{class:"el-upload-list__item-thumbnail",src:u.url,alt:""},null,8,al),_("div",nl,[_("span",{class:"el-upload-list__item-delete",onClick:C=>{var I;return(I=p.value)==null?void 0:I.handleRemove(u)}},[m(P,null,{default:f(()=>[m(l(Le))]),_:1})],8,il)])])]),_:1},8,["modelValue","limit","fileType","fileSize","suffixStr","tipLabel"])])])]),_:1},8,["shadow"])])}}});export{ol as default};
