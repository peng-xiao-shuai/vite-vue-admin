import{q as c,u as b,a as _,W as B,d as L,r as E,X as S,_ as w,e as C,o as F,x as Q,w as l,g as o,k as g,j as V,i as v,p as D,l as N,E as k}from"./index-d0d9e9f9.js";/* empty css             */import{E as O,a as $}from"./form-item-e0a55f95.js";const I=()=>{const e=[{label:"账号名",props:[{prop:"name"}]},{label:"问题信息",props:[{prop:"info"}]},{label:"问题地址",props:[{type:"href",prop:"url",data:{prop:"url",style:{fontWeight:"bold"}}}]},{label:"问题详情",props:[{prop:"error"}]},{label:"问题时间",props:[{prop:"time"}]},{label:"问题类型",props:[{prop:"type"}]}],a=c({value:0,operates:[{label:"上传",value:0}]}),i=b(),s=_(),n=i.errorLog,m=c({url:"",info:"",error:"",type:"Info",name:s.userInfo.username,time:B(new Date)});return{listQuery:c({pageNum:1,pageSize:10}),header:e,operateData:a,addQuery:m,sList:n}},U=L({setup(){const{header:e,operateData:a,sList:i,addQuery:s,listQuery:n}=I(),m=b(),u=E(0),r=E([]),t=d=>{Object.assign(n,d||{}),S(n).then(f=>{r.value=f.data.data.list,u.value=f.data.data.total})};return t(),{list:r,sList:i,operateData:a,addQuery:s,total:u,handleBatchChange:()=>{console.log("上传")},addLog:()=>{m.errorLog.push(JSON.parse(JSON.stringify(s)))},getList:t,header:e}}}),z={style:{margin:"15px 0"}},T={class:"screenForm"};function j(e,a,i,s,n,m){const u=v,r=D,t=O,h=N,y=$,d=C("powerful-table"),f=k;return F(),Q(f,{shadow:e.defaultData.cardShadow},{default:l(()=>[o(u),g("div",z,[o(y,{inline:!0,model:e.addQuery},{default:l(()=>[g("div",T,[o(t,null,{default:l(()=>[o(r,{modelValue:e.addQuery.info,"onUpdate:modelValue":a[0]||(a[0]=p=>e.addQuery.info=p),placeholder:"请输入问题信息",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),o(t,{prop:"url"},{default:l(()=>[o(r,{modelValue:e.addQuery.url,"onUpdate:modelValue":a[1]||(a[1]=p=>e.addQuery.url=p),placeholder:"请输入问题地址",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),o(t,{prop:"error"},{default:l(()=>[o(r,{modelValue:e.addQuery.error,"onUpdate:modelValue":a[2]||(a[2]=p=>e.addQuery.error=p),placeholder:"请输入问题详情",style:{width:"80%"},clearable:""},null,8,["modelValue"])]),_:1}),o(t,null,{default:l(()=>[o(h,{type:"primary",onClick:e.addLog},{default:l(()=>a[3]||(a[3]=[V("提交")])),_:1},8,["onClick"])]),_:1})])]),_:1},8,["model"])]),a[4]||(a[4]=g("div",{style:{margin:"15px 0"}},"新问题",-1)),o(d,{list:e.sList,header:e.header,isPagination:!1,isSelect:"",operateData:e.operateData,onBatchOperate:e.handleBatchChange},null,8,["list","header","operateData","onBatchOperate"]),a[5]||(a[5]=g("div",{style:{margin:"15px 0"}},"历史问题",-1)),o(d,{ref:"Table",list:e.list,header:e.header,total:e.total,onSizeChange:e.getList},null,8,["list","header","total","onSizeChange"])]),_:1},8,["shadow"])}const A=w(U,[["render",j]]);export{A as default};
