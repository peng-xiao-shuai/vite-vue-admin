name: GitHub Actions Build and Deploy Demo
on:
  push:
    branches:
      - master
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v2 # å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Actions/checkout@v2ï¼Œé‚£ä¹ˆåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ‚¨å¿…é¡»å°†Persistent-Credentialsè®¾ç½®ä¸ºfalseï¼Œè¿™æ ·éƒ¨ç½²æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚
        with:
          persist-credentials: false
       # ç”Ÿæˆé™æ€æ–‡ä»¶
      - name: Build
        run: yarn install && yarn run build
      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@releases/v3
        with:
          ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }} #secrets.ACCESS_TOKENæ˜¯é¡¹ç›®é…ç½®çš„å¯†é’¥
          BRANCH: gh-pages # æ“ä½œåº”éƒ¨ç½²åˆ°çš„åˆ†æ”¯ã€‚
          FOLDER: dist # æ“ä½œåº”éƒ¨ç½²çš„æ–‡ä»¶å¤¹ã€‚